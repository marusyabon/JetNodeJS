!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=19)}([function(t,e,n){"use strict";var i=function(){function t(){this.webixJet=!0,this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id);for(var n in this._subs){var i=this._subs[n].view;i&&i.destructor()}this._events=this._container=this.app=this._parent=null},t.prototype.setParam=function(t,e,n){var i;this._data[t]!==e&&(this._data[t]=e,this.app.callEvent("app:paramchange",[this,t,e,n])&&n&&this.show(((i={})[t]=e,i)))},t.prototype.getParam=function(t,e){var n=this._data[t];if(void 0!==n||!e)return n;var i=this.getParentView();return i?i.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._url},t.prototype.render=function(t,e,n){var i=this;this._parent=n,e&&(this._index=e[0].index),this._init_url_data(e);var o="string"==typeof(t=t||document.body)?webix.toNode(t):t;return this._container!==o?(this._container=o,this._render(e).then(function(){return i.getRoot()})):this._urlChange(e).then(function(){return i.getRoot()})},t.prototype.getIndex=function(){return this._index},t.prototype.getId=function(){return this._id},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView(function(n){return(n.config.id===t||n.config.localId===t)&&n.$scope===e.$scope},"self")}return t},t.prototype.on=function(t,e,n){var i=t.attachEvent(e,n);return this._events.push({obj:t,id:i}),i},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:this._parent?this._parent.getSubViewInfo(t):null},t.prototype.getName=function(){return this._name},t.prototype._init_url_data=function(t){t&&t[0]&&(this._data={},webix.extend(this._data,t[0].params,!0)),this._url=t},t}();function o(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],i=0;i<e.length;i++){var o=e[i],r={},a=o.indexOf(":");if(-1===a&&(a=o.indexOf("?")),-1!==a)for(var s=0,c=o.substr(a+1).split(/[\:\?\&]/g);s<c.length;s++){var u=c[s].split("=");r[u[0]]=decodeURIComponent(u[1])}n[i]={page:a>-1?o.substr(0,a):o,params:r,index:i+1}}return n}function r(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.push("/"+o.page);var r=a(o.params);r&&e.push("?"+r)}return e.join("")}function a(t){var e=[];for(var n in t)e.length&&e.push("&"),e.push(n+"="+encodeURIComponent(t[n]));return e.join("")}var s,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var i=t.call(this)||this;return i.app=e,i._name=n,i._children=[],i}return u(e,t),e.prototype.ui=function(t,e){var n=(e=e||{}).container||t.container,o=this.app.createView(t);return this._children.push(o),o.render(n,null,this),"object"!==(void 0===t?"undefined":c(t))||t instanceof i?o:o.getRoot()},e.prototype.show=function(t,e){var n=this;if(e=e||{},"string"==typeof t){if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("../")){var i=this.getParentView();return void(i?i.show("./"+t.substr(3),e):this.app.show("/"+t.substr(3)))}0===t.indexOf("./")&&(t=t.substr(2));var a=this.getSubViewInfo(e.target);if(!a)return this.app.show("/"+t);if(a.parent!==this)return a.parent.show(t,e)}var s=o(this.app.getRouter().get());if("object"===(void 0===t?"undefined":c(t)))if(webix.isArray(t)){var u=this._index+t[0];s[u]||(s[u]={}),s[u].page=t[1],t=""}else{var l=[];for(var p in t)l.push(encodeURIComponent(p)+"="+encodeURIComponent(t[p]));t="?"+l.join("&")}if("string"==typeof t){if("?"===t.substr(0,1)){var f=t.indexOf("/"),h=t;f>-1&&(h=t.substr(0,f));var d=o(h);webix.extend(s[this._index-1].params,d[0].params,!0),t=f>-1?t.substr(f+1):""}var v=""===t?s.slice(this._index):o(t),y=null;if(this._index){y=s.slice(0,this._index).concat(v);for(var m=0;m<y.length;m++)y[m].index=m+1;var w=r(y);return this.app.canNavigate(w,this).then(function(t){return null!==t?w!==t?n.app.show(t):n._finishShow(y,t):null})}return this._finishShow(v,"")}},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy(),this._destroyKids(),this.app=this._parentFrame=null,this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype.refresh=function(){var t=this;this._destroyKids();var e=[];this._index>1&&(e=o(this.app.getRouter().get()).slice(this._index-1)),this._render(e).then(function(){t._parentFrame.id=t.getRoot().config.id})},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n,i=this,o=this._container;if(o&&o.$destructed)return Promise.reject("Container destroyed");var r={ui:{}};this.app.copyConfig(t,r.ui,this._subs),this.app.callEvent("app:render",[this,e,r]),r.ui.$scope=this;try{if(o&&o.getParentView){var a=o.getParentView();a&&"multiview"===a.name&&!r.ui.id&&(r.ui.id=o.config.id)}this._root=this.app.webix.ui(r.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,e),n=this._urlChange(e).then(function(){return i.ready(i._root,e)})}catch(t){n=Promise.reject(t)}return n.catch(function(t){return i._initError(i,t)})},e.prototype._init=function(t,e){return this.init(t,e)},e.prototype._urlChange=function(t){var e=this;this.app.callEvent("app:urlchange",[this,t,this._index]);var n=[];for(var i in this._subs){var o=this._renderFrame(i,this._subs[i],t);o&&n.push(o)}return Promise.all(n).then(function(){e.urlChange(e._root,t)})},e.prototype._renderFrame=function(t,e,n){if(e.url){if("string"==typeof e.url){var i=o(e.url);return i.map(function(t){t.index=0}),this._createSubView(e,i)}var r=e.view;return"function"!=typeof e.url||r instanceof e.url||(r=new e.url(this.app,"")),r||(r=e.url),this._renderSubView(e,r,n)}if("default"===t&&n&&n.length>1){var a=n.slice(1);return this._createSubView(e,a)}},e.prototype._initError=function(t,e){return this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e,t.view).then(function(i){return n._renderSubView(t,i,e)})},e.prototype._renderSubView=function(t,n,i){var o=this.app.webix.$$(t.id);return n.render(o,i,this).then(function(i){return t.view&&t.view!==n&&t.view.destructor(),t.view=n,t.id=i.config.id,n instanceof e&&(n._parentFrame=t),i})},e.prototype._finishShow=function(t,e){var n;return this._index?(n=this._renderPartial(t.slice(this._index-1)),this.app.getRouter().set(e,{silent:!0}),this.app.callEvent("app:route",[t])):(t.map(function(t){return t.index=0}),n=this._renderPartial([null].concat(t))),n},e.prototype._renderPartial=function(t){return this._init_url_data(t),this._urlChange(t)},e.prototype._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(i),p=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o._ui=i,o._windows=[],o}return p(e,t),e.prototype.getRoot=function(){if(this.app.config.jet1xMode){var t=this.getParentView();if(t)return t.getRoot()}return this._root},e.prototype.config=function(){return this._ui.$ui||this._ui},e.prototype.destructor=function(){var e=this._ui.$ondestroy;e&&e();for(var n=0,i=this._windows;n<i.length;n++){i[n].destructor()}t.prototype.destructor.call(this)},e.prototype.show=function(e,n){if(0===e.indexOf("/")||0===e.indexOf("./"))return t.prototype.show.call(this,e,n);t.prototype.show.call(this,"../"+e,n)},e.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},e.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},e.prototype._realInitHandler=function(){var t=this._ui.$oninit;if(t){var n=this.getRoot();t(n,n.$scope)}var i=this._ui.$onevent;if(i)for(var o in i)this.on(this.app,o,i[o]);var r=this._ui.$windows;if(r)for(var a=0,s=r;a<s.length;a++){var c=s[a];if(c.$ui){var u=new e(this.app,this.getName(),c);u.render(document.body),this._windows.push(u)}else this.ui(c)}},e.prototype._urlChange=function(e){var n=this;return t.prototype._urlChange.call(this,e).then(function(){var t=n._ui.$onurlchange;if(t){var i=n.getRoot();t(e[0].params,e.slice(1),i.$scope)}})},e}(l),h=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o._ui=i,o}return h(e,t),e.prototype.config=function(){return this._ui},e}(l),v=n(9),y=n.n(v),m=function(){function t(t,e){var n=this;this.config=e||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var i=function(t){};y()(this._prefix+"*",function(){return n._lastUrl="",i(n.get())}),i=t}return t.prototype.set=function(t,e){if(this.config.routes){var n=t.split("?",2);for(var i in this.config.routes)if(this.config.routes[i]===n[0]){t=i+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=t,y.a.navigate(this._prefix+t,e)},t.prototype.get=function(){var t=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t}(),w=(n(21),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=function(t){function e(e){var n=t.call(this)||this;return n.webix=e.webix||webix,n.config=n.webix.extend({name:"App",version:"1.0",start:"/home"},e,!0),n._name=n.config.name,n._services={},webix.extend(n,webix.EventSystem),n}return g(e,t),e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.copyConfig=function(t,e,n){if(t.$ui?t={$subview:new f(this,"",t)}:(t instanceof i||"function"==typeof t&&t.prototype instanceof i)&&(t={$subview:t}),t.$subview)return this.addSubView(t,e,n);for(var o in e=e||(t instanceof Array?[]:{}),t){var r=t[o];"function"==typeof r&&r.prototype instanceof i&&(r={$subview:r}),!r||"object"!==(void 0===r?"undefined":w(r))||r instanceof webix.DataCollection||r instanceof RegExp?e[o]=r:r instanceof Date?e[o]=new Date(r):e[o]=this.copyConfig(r,r instanceof Array?[]:{},n)}return e},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this.trigger(n);var i=e.getAttribute("route");i&&this.show(i)}}},e.prototype.refresh=function(){var t=this._container;this._view._name=webix.uid()+"",this._container=null,t.tagName&&this._view&&(this._view.destructor(),this._view=null),this.render(t,o(this.getRouter().get()),this._parent)},e.prototype.loadView=function(t){var e=this,i=this.config.views,o=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{i&&"string"==typeof(o="function"==typeof i?i(t):i[t])&&(t=o,o=null),o||(t=t.replace(/\./g,"/"),o=n(22)("./"+t))}catch(e){o=this._loadError(t,e)}return o.then||(o=Promise.resolve(o)),o=o.then(function(t){return t.__esModule?t.default:t}).catch(function(n){return e._loadError(t,n)})},e.prototype.createFromURL=function(t,e){var n=this,i=t[0],o=i.page;return e&&e.getName()===o?Promise.resolve(e):this.loadView(i.page).then(function(t){return n.createView(t,o)})},e.prototype.createView=function(t,e){if("function"==typeof t){if(t.prototype instanceof i)return new t(this,e);t=t()}return t instanceof i?t:t.$ui?new f(this,e,t):new d(this,e,t)},e.prototype.show=function(t){return this.$router.get()!==t?this._render(t):Promise.resolve(!0)},e.prototype.canNavigate=function(t,e){var n={url:o(t),redirect:t,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[t,e||this._view,n])?n.confirm.catch(function(){return n.redirect=null}).then(function(){return n.redirect}):Promise.reject("")},e.prototype.destructor=function(){this._view.destructor()},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.apply(t,e)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.apply(t,e)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var n=0;n<e.length;n++)if(console.error(e[n]),e[n]instanceof Error){var i=e[n].message;0===i.indexOf("Module build failed")?(i=i.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+i+"</pre>"):(i+="<br><br>Check console for more details",webix.message({type:"error",text:i,expire:-1}))}},e.prototype._render=function(t){var e=this;!this.$router&&(webix.attachEvent("onClick",function(t){return e.clickHandler(t)}),t=this._first_start(t));var n="string"==typeof t?t:r(t);return this.canNavigate(n).then(function(t){return null!==t?(e.$router.set(t,{silent:!0}),e._render_stage(t)):null})},e.prototype._render_stage=function(t){var e=this,n="string"==typeof t?o(t):t;return webix.ui.freeze(function(){return e.createFromURL(n,e._view).then(function(t){var i=e._view;return e._view=t,t.render(e._container,n,e._parent).then(function(o){return i&&i!==e._view&&i.destructor(),e._view.getRoot().getParentView()&&(e._container=o),e._root=o,e.callEvent("app:route",[n]),t})}).catch(function(t){e.error("app:error:render",[t])})})},e.prototype._urlChange=function(t){return alert("Not implemented"),Promise.resolve(!0)},e.prototype._first_start=function(t){var e=this;if(this.$router=new(this.config.router||m)(function(t){return setTimeout(function(){e._render(t)},1)},this.config),this._container===document.body&&!1!==this.config.animation){var n=this._container;webix.html.addCss(n,"webixappstart"),setTimeout(function(){webix.html.removeCss(n,"webixappstart"),webix.html.addCss(n,"webixapp")},10)}return t&&1!==t.length||(t=this.$router.get()||this.config.start,this.$router.set(t,{silent:!0})),t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var o=!0!==t.$subview?t.$subview:null,r=t.name||(o?this.webix.uid():"default");e.id=t.id||"s"+this.webix.uid();var a=n[r]={id:e.id,url:o};return a.url instanceof i&&(a.view=a.url),e},e}(i);(function(){function t(t,e){this.name=e.storeName||e.id+":route",this.cb=t}t.prototype.set=function(t,e){var n=this;webix.storage.session.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return webix.storage.session.get(this.name)}})(),function(){function t(t,e){var n=this;this.cb=t,window.onpopstate=function(){return n.cb(n.get())},this.prefix=e.routerPrefix||""}t.prototype.set=function(t,e){var n=this;this.get()!==t&&window.history.pushState(null,null,this.prefix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=window.location.pathname.replace(this.prefix,"");return"/"!==t?t:""}}(),function(){function t(t,e){this.path="",this.cb=t}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}();var _=n(18),x=n.n(_);function S(t,e,n){e.urls&&(n=e.urls[n]||n),t.show("./"+n)}var $={good:"check",error:"warning",saving:"refresh fa-spin"},C={good:"Ok",error:"Error",saving:"Connecting..."};function D(t,e,n){for(var i=0;i<n.length;i++)t.setParam(n[i],e[i+1]?e[i+1].page:"")}n.d(e,"d",function(){return E}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return m});var E={UnloadGuard:function(t,e,n){e.on(t,"app:guard",function(t,i,o){if(i===e||i.contains(e)){var r=n();o.confirm=!1===r?Promise.reject(r):o.confirm.then(function(){return r})}})},Locale:function(t,e,i){var o=(i=i||{}).storage,r=o?o.get("lang")||"en":i.lang||"en",a={_:null,polyglot:null,getLang:function(){return r},setLang:function(e,s){var c=(i.path?i.path+"/":"")+e,u=n(23)("./"+c);u.__esModule&&(u=u.default);var l=a.polyglot=new x.a({phrases:u});l.locale(e),a._=webix.bind(l.t,l),r=e,o&&o.put("lang",r),s||t.refresh()}};t.setService("locale",a),a.setLang(r,!0)},Menu:function(t,e,n){var i=e.$$(n.id||n),o=!1;i.attachEvent("onchange",function(){o||S(e,n,this.getValue())}),i.attachEvent("onafterselect",function(){if(!o){var t=null;i.setValue?t=this.getValue():i.getSelectedId&&(t=i.getSelectedId()),S(e,n,t)}}),e.on(t,"app:route",function(t){var n=t[e.getIndex()];if(n){o=!0;var r=n.page;i.setValue&&i.getValue()!==r?i.setValue(r):i.select&&i.exists(r)&&i.getSelectedId()!==r&&i.select(r),o=!1}})},Theme:function(t,e,n){var i=(n=n||{}).storage,o=i?i.get("theme")||"flat-default":n.theme||"flat-default",r={getTheme:function(){return o},setTheme:function(e,n){for(var r=e.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s].getAttribute("title");c&&(c===e||c===r[0]?a[s].disabled=!1:a[s].disabled=!0)}webix.skin.set(r[0]),webix.html.removeCss(document.body,"theme-"+o),webix.html.addCss(document.body,"theme-"+e),o=e,i&&i.put("theme",e),n||t.refresh()}};t.setService("theme",r),r.setTheme(o,!0)},User:function(t,e,n){var i=(n=n||{}).login||"/login",o=n.logout||"/logout",r=n.afterLogin||t.config.start,a=n.afterLogout||"/login",s=n.ping||3e5,c=n.model,u=n.user,l={getUser:function(){return u},getStatus:function(t){return t?c.status().catch(function(){return null}).then(function(t){u=t}):null!==u},login:function(e,n){return c.login(e,n).then(function(e){if(u=e,!e)throw new Error("Access denied");t.callEvent("app:user:login",[u]),t.show(r)})},logout:function(){return u=null,c.logout().then(function(e){return t.callEvent("app:user:logout",[]),e})}};function p(t,e){t===o?(l.logout(),e.redirect=a):t===i||l.getStatus()||(e.redirect=i)}t.setService("user",l),t.attachEvent("app:guard",function(t,e,n){return void 0===u&&(n.confirm=l.getStatus(!0).then(function(){return p(t,n)})),p(t,n)}),s&&setInterval(function(){return l.getStatus(!0)},s)},Status:function(t,e,n){var i="good",o=0,r=!1,a=n.expire;a||!1===a||(a=2e3);var s=n.texts||C,c=n.icons||$;function u(t){var o=e.$$(n.target);o&&(t||(t="<div class='status_"+i+"'><span class='webix_icon fa-"+c[i]+"'></span> "+s[i]+"</div>"),o.setHTML(t))}function l(){o--,d("good")}function p(t){o--,d("error",t)}function f(t){o++,d("saving"),t&&t.then&&t.then(l,p)}function h(){0===o&&u(" ")}function d(e,n){o<0&&(o=0),"saving"===e?(i="saving",u()):(r="error"===e,0===o&&(i=r?"error":"good",r?t.error("app:error:server",[n.responseText||n]):a&&setTimeout(h,a),u()))}function v(t){var n=webix.dp(t);n&&(e.on(n,"onAfterDataSend",f),e.on(n,"onAfterSaveError",function(t,e,n){return p(n)}),e.on(n,"onAfterSave",l))}"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:function(){return i},setStatus:d,track:v}),n.remote&&e.on(webix,"onRemoteCall",f),n.ajax&&e.on(webix,"onBeforeAjax",function(t,e,n,i,o,r,a){f(a)}),n.data&&v(n.data)},UrlParam:function(t,e,n){var i=n.route||n;e.on(t,"app:urlchange",function(t,n){e===t&&(D(e,n,i),n.splice(1,i.length))}),e.on(t,"app:paramchange",function(t,n,o,r){if(e===t&&r)for(var a=0;a<i.length;a++)if(i[a]===n)return e.show([a,o]),!1}),D(e,e.getUrl(),i)}};window.Promise||(window.Promise=webix.promise)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=new webix.DataCollection({url:"http://localhost:3000/contacts",save:{url:"rest->http://localhost:3000/contacts",updateFromResponse:!0},scheme:{$change:function(t){t.value=t.FirstName+" "+t.LastName;var e=webix.Date.strToDate("%d-%m-%Y %H:%i");t.StartDate=e(t.StartDate),t.Birthday=e(t.Birthday)},$save:function(t){var e=webix.Date.dateToStr("%d-%m-%Y %H:%i");t.StartDate=e(t.StartDate),t.Birthday=e(t.Birthday)}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=new webix.DataCollection({url:"http://localhost:3000/activities/",save:{url:"rest->http://localhost:3000/activities/",updateFromResponse:!0},scheme:{$change:function(t){var e=webix.Date.strToDate("%d-%m-%Y %H:%i");t.DueDate=e(t.DueDate)}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=new webix.DataCollection({url:"http://localhost:3000/activitytypes/",save:{url:"rest->http://localhost:3000/activitytypes/",updateFromResponse:!0},scheme:{$init:function(t){t.value=t.Value}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=new webix.DataCollection({url:"http://localhost:3000/statuses/",save:{url:"rest->http://localhost:3000/statuses/",updateFromResponse:!0}})},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(1),r=n(2),a=n(3);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{view:"window",localId:"formPopup",head:e("Add activity"),width:600,height:400,position:"center",body:{view:"form",localId:"formView",elements:[{view:"textarea",label:e("Details"),name:"Details"},{view:"combo",label:e("Type"),name:"TypeID",options:{body:{template:"#Value#",data:a.a}}},{view:"combo",label:e("Contact"),name:"ContactID",localId:"ContactID",options:{body:{template:"#FirstName# #LastName#",data:o.a}}},{margin:20,cols:[{view:"datepicker",value:new Date,name:"_Date",localId:"_Date",label:e("Date")},{view:"datepicker",type:"time",label:e("Time"),localId:"_Time",name:"_Time"}]},{view:"checkbox",name:"State",label:e("Completed")},{margin:20,cols:[{view:"button",type:"form",localId:"saveBtn",click:function(){t.saveForm()}},{view:"button",value:e("Cancel"),click:function(){t.getRoot().hide()}}]}],rules:{Details:webix.rules.isNotEmpty,TypeID:webix.rules.isNotEmpty,ContactID:webix.rules.isNotEmpty}}}},e.prototype.showWindow=function(t){var e=this.app.getService("locale")._,n=this.$$("formView");if(n.clearValidation(),n.clear(),t&&r.a.exists(t)){this.$$("saveBtn").setValue(e("Save")),this.$$("formPopup").getHead().setHTML(e("Edit activity"));var i=webix.copy(r.a.getItem(t)),o=i.DueDate;i._Date=o,i._Time=o,n.setValues(i)}else{this.$$("saveBtn").setValue(e("Add")),this.$$("formPopup").getHead().setHTML(e("Add activity"));var a=this.getParam("id",!0);a&&(this.$$("ContactID").setValue(a),this.$$("ContactID").disable())}this.getRoot().show()},e.prototype.saveForm=function(){var t=this.$$("formView"),e=t.getValues(),n=e._Time.getHours(),i=e._Time.getMinutes();e.DueDate=e._Date,e.DueDate.setHours(n,i),t.validate()&&(e.id?r.a.updateItem(e.id,e):r.a.add(e),t.clearValidation(),t.clear(),this.$$("formPopup").hide())},e}(i.c);e.default=s},function(t,e,n){"use strict";n.r(e);var i=function(t){function e(n,i,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i));return s._tdata=o,s._label=r,s._options=a,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{view:"label",label:this._label,align:"center"},{view:"datatable",select:!0,editable:!0,editaction:"dblclick",columns:[{id:"Value",sort:"text",header:e("Type name"),fillspace:!0,editor:"text"},{id:"Icon",header:e("Icon"),template:"<i class='fas fa-#Icon#'></i> #Icon#",editor:"richselect",suggest:{body:{data:this._options,template:"<i class='fas fa-#value#'></i> #value#"}}}]},{cols:[{view:"button",label:e("Add"),type:"form",click:function(){t._tdata.add({Value:"",Icon:""})}},{view:"button",label:e("Delete"),click:function(){webix.confirm({title:e("Confirm_titile"),text:e("Confirm_text"),callback:function(e){if(e){var n=t.getRoot().queryView({view:"datatable"}).getSelectedId();t._tdata.remove(n)}return!1}})}}]}]}},e.prototype.init=function(t){t.queryView("datatable").sync(this._tdata)},e}(n(0).c);e.default=i},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(2),r=n(3),a=n(5);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{view:"datatable",localId:"actTable",select:!0,columns:[{id:"State",header:"",template:"{common.checkbox()}",width:30},{id:"TypeID",sort:"text",header:[e("Activity type"),{content:"selectFilter"}],options:r.a},{id:"DueDate",header:[e("Due date"),{content:"datepickerFilter"}],sort:"date",format:webix.Date.dateToStr("%d %M %y")},{id:"Details",sort:"text",header:[e("Details"),{content:"textFilter"}],fillspace:!0},{id:"EditAct",header:"",template:"{common.editIcon()}",width:50},{id:"RemoveAct",header:"",template:"{common.trashIcon()}",width:50}],onClick:{"wxi-pencil":function(e,n){t.actForm.showWindow(n)},"wxi-trash":function(t,n){webix.confirm({title:e("Confirm_titile"),text:e("Confirm_text"),callback:function(t){if(t)return o.a.remove(n),!1}})}},on:{onAfterFilter:function(){var e=t.getParam("id",!0),n=t.$$("actTable");n.blockEvent(),n.filter(function(t){return t.ContactID==e},"",!0),n.unblockEvent()}}},{cols:[{},{view:"button",label:e("Add activity"),type:"icon",css:"btn",icon:"fas fa-plus-square",width:100,click:function(){t.actForm.showWindow()}}]}]}},e.prototype.init=function(){var t=this;this.actForm=this.ui(a.default),this.on(this.app,"onContactDelete",function(){var e=t.getParam("id",!0);o.a.find(function(t){return t.ContactID==e}).forEach(function(t){o.a.remove(t.id)})})},e.prototype.urlChange=function(){var t=this;o.a.waitData.then(function(){var e=t.getParam("id",!0),n=t.$$("actTable");e&&n.sync(o.a)})},e}(i.c);e.default=s},function(t,e,n){"use strict";n.r(e);var i=n(0),o=new webix.DataCollection({url:"http://localhost:3000/files",save:"rest->http://localhost:3000/files"});var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{view:"datatable",localId:"filesTable",select:!0,autoConfig:!0,columns:[{id:"FileName",header:e("Name"),sort:"text",fillspace:!0},{id:"FileDate",sort:"date",header:e("Change Date"),format:function(t){return webix.Date.dateToStr("%d %M %y")(t)}},{id:"FileSize",sort:"int",header:e("Size")},{header:"",template:"{common.trashIcon()}",width:50}],onClick:{"wxi-trash":function(t,e){webix.confirm({title:"Remove this?",text:"action cannot be undone",callback:function(t){return t&&o.remove(e),!1}})}}},{cols:[{},{view:"uploader",label:e("Upload file"),localId:"fileUploader",type:"icon",icon:"fas fa-cloud-upload-alt",css:"uploader",width:160,upload:"http://localhost:3000/files",on:{onBeforeFileAdd:function(e){var n=e.file;n.id,t.getParam("id",!0),n.name,n.lastModifiedDate,n.size;o.add(e.file)},onFileUploadError:function(){webix.message("Uploading failed")}}},{}]}]}},e.prototype.init=function(){var t=this;this.on(this.app,"onContactDelete",function(){var e=t.getParam("id",!0);o.find(function(t){return t.ContactID==e}).forEach(function(t){o.remove(t.id)})})},e.prototype.urlChange=function(){var t=this;o.waitData.then(function(){var e=t.getParam("id",!0),n=t.$$("filesTable");e&&n.sync(o,function(){n.filter(function(t){return t.ContactID==e})})})},e}(i.c);e.default=r},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * webix-routie - router for Webix-Jet
 * v0.4.0
 * MIT License
 *
 * based on routie - a tiny hash router
 * http://projects.jga.me/routie
 * copyright Greg Allen 2016
 * MIT License
*/t.exports=function(t,e){var n,o=[],r={},a=t.routie,s=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=c(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(t){this.fns.push(t)},s.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(t==this.fns[e])return void this.fns.splice(e,1)},s.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(!1===this.fns[e].apply(this,t))return!1;return!0},s.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var i=1,o=n.length;i<o;++i){var r=this.keys[i-1],a="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];r&&(this.params[r.name]=a),e.push(a)}return!0},s.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(-1!=(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,"")).indexOf(":"))throw new Error("missing parameters for url: "+e);return e};var c=function(t,e,n,i){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,i,o,r,a){return e.push({name:o,optional:!!a}),n=n||"",(a?"":n)+"(?:"+(a?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},u=function(t,e){var n=t.split(" "),i=2==n.length?n[0]:null;t=2==n.length?n[1]:n[0],r[t]||(r[t]=new s(t,i),o.push(r[t])),r[t].addHandler(e)},l=function t(e,n){if("function"==typeof n)u(e,n),t.reload();else if("object"==(void 0===e?"undefined":i(e))){for(var o in e)u(o,e[o]);t.reload()}else void 0===n&&t.navigate(e)};l.lookup=function(t,e){for(var n=0,i=o.length;n<i;n++){var r=o[n];if(r.name==t)return r.toURL(e)}},l.remove=function(t,e){var n=r[t];n&&n.removeHandler(e)},l.removeAll=function(){r={},o=[],n=""},l.navigate=function(t,e){var n=(e=e||{}).silent||!1;n&&v(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){d()},1)},1)},l.noConflict=function(){return t.routie=a,l};var p=function(){return window.location.hash.substring(1)},f=function(t,e){var n=[];return e.match(t,n)?!1!==e.run(n)?1:0:-1},h=l.reload=function(){for(var t=p(),e=0,i=o.length;e<i;e++){var r=o[e],a=f(t,r);if(1===a){n=t;break}if(0===a){l.navigate(n,{silent:!0});break}}},d=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},v=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};if(d(),n=p(),e)return l;t.routie=l}(window,!0),t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(5),r=n(2),a=n(3),s=n(1);var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{cols:[{view:"tabbar",value:"all",localId:"actFilter",optionWidth:110,options:[{id:"all",value:e("All")},{id:"overdue",value:e("Overdue")},{id:"completed",value:e("Completed")},{id:"today",value:e("Today")},{id:"tomorrow",value:e("Tomorrow")},{id:"thisWeek",value:e("This week")},{id:"thisMonth",value:e("This month")}],on:{onChange:function(){t.$$("actTable").filterByAll()}}},{view:"button",label:e("Add activity"),type:"icon",icon:"fas fa-plus-square",width:100,click:function(){t.actForm.showWindow()}}]},{view:"datatable",localId:"actTable",select:!0,columns:[{id:"State",header:"",template:"{common.checkbox()}",width:30},{id:"TypeID",sort:"text",header:[e("Activity type"),{content:"selectFilter"}],options:a.a},{id:"DueDate",header:[e("Due date"),{content:"datepickerFilter"}],sort:"date",format:webix.Date.dateToStr("%d %M %y")},{id:"Details",sort:"text",header:[e("Details"),{content:"textFilter"}],fillspace:!0},{id:"ContactID",sort:"text",header:[e("Contact"),{content:"selectFilter"}],options:s.a},{id:"EditAct",header:"",template:"{common.editIcon()}",width:50},{id:"RemoveAct",header:"",template:"{common.trashIcon()}",width:50}],onClick:{"wxi-pencil":function(e,n){t.actForm.showWindow(n)},"wxi-trash":function(t,n){webix.confirm({title:e("Confirm_titile"),text:e("Confirm_text"),callback:function(t){return t&&r.a.remove(n),!1}})}},on:{onAfterFilter:function(){t.$$("actTable").filter(function(e){var n=t.$$("actFilter").getValue();return t.actFiltering(e,n)},"",!0)}}}]}},e.prototype.init=function(){this.$$("actTable").sync(r.a),this.actForm=this.ui(o.default),this.$$("actTable").registerFilter(this.$$("actFilter"),{compare:function(t,e,n){var i=new Date,o=webix.Date.datePart(i),r=webix.Date.weekStart(i),a=webix.Date.monthStart(i),s=webix.Date.add(o,1,"day",!0),c=n.DueDate,u=webix.Date.datePart(c),l=webix.Date.weekStart(c),p=webix.Date.monthStart(c);switch(e){case"overdue":return 0==n.State&&c<i;case"completed":return 1==n.State;case"today":return webix.Date.equal(o,u);case"tomorrow":return webix.Date.equal(s,u);case"thisWeek":return webix.Date.equal(r,l);case"thisMonth":return webix.Date.equal(a,p);default:return!0}}},{getValue:function(t){return t.getValue()},setValue:function(t,e){t.setValue(e)}})},e}(i.c);e.default=c},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(1);var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this;return{margin:20,cols:[{rows:[{view:"toolbar",elements:[{view:"text",localId:"listFilter",placeholder:"type to find matcing contacts",on:{onTimedKeyPress:function(){var e=t.$$("listFilter").getValue().toLowerCase(),n=webix.Date.dateToStr("%d %M %Y");t.$$("list").filter(function(t){for(var i in t)if(t[i]){if("string"==typeof t[i]&&-1!=t[i].toString().toLowerCase().indexOf(e))return!0;if(t[i]instanceof Date&&-1!=n(t[i]).toLowerCase().indexOf(e))return!0}})}}}]},{view:"list",localId:"list",width:300,css:"users_list",select:!0,template:function(t){return"<div class='user_icon'>\t\t\t\t\t\t\t<img src=\""+(t.Photo?t.Photo:"https://cs.unc.edu/~csturton/HWSecurityatUNC/images/person.png")+"\" />\t\t\t\t\t\t</div>\t\t\t\t\t\t<p class='user_name'>"+t.FirstName+" "+t.LastName+"</p><p class='user_email'>"+t.Email+"</p>"},type:{height:50},on:{onAfterSelect:function(e){t.show("/top/contacts.contacts?id="+e+"/contacts.details")},"data->onIdChange":function(e,n){t.show("/top/contacts.contacts?id="+n+"/contacts.details")}}},{view:"button",type:"form",value:(0,this.app.getService("locale")._)("Add"),click:function(){var e=t.getParam("id",!0);t.show("/top/contacts.contacts?id="+e+"&new=true/contacts.form")}},{height:15}]},{$subview:!0}]}},e.prototype.init=function(){var t=this;this.$$("list").sync(o.a),this.on(this.app,"onContactDelete",function(){var e=o.a.getFirstId();e&&t.$$("list").select(e)})},e.prototype.urlChange=function(){var t=this;o.a.waitData.then(function(){var e=t.getParam("id")||o.a.getFirstId();e&&o.a.exists(e)&&t.$$("list").select(e)})},e}(i.c);e.default=r},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(1),r=n(7),a=n(8);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{rows:[{cols:[{view:"label",css:"contact_title",localId:"contactTitle"},{},{cols:[{view:"button",label:e("Delete"),type:"icon",icon:"fas fa-trash-alt",width:100,click:function(){t.removeContact()}},{view:"button",label:e("Edit"),type:"icon",icon:"fas fa-edit",width:100,click:function(){var e=t.getParam("id",!0);t.show("/top/contacts.contacts?id="+e+"/contacts.form")}}]}]},{height:10},{localId:"contactCard",minHeight:270,template:function(t){return'<div class="col contact_card">\n\t\t\t\t\t\t<div class="photo_wrap contact_avatar">\n\t\t\t\t\t\t\t<img src="'+(t.Photo?t.Photo:"https://cs.unc.edu/~csturton/HWSecurityatUNC/images/person.png")+'" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class="contact_status">'+t.StatusID+'</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col icon_p">\n\t\t\t\t\t\t<p><i class="fas fa-envelope"></i>'+t.Email+'</p>\n\t\t\t\t\t\t<p><i class="fab fa-skype"></i>'+t.Skype+'</p>\n\t\t\t\t\t\t<p><i class="fas fa-tag"></i>'+t.Job+'</p>\n\t\t\t\t\t\t<p><i class="fas fa-briefcase"></i>'+t.Company+'</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col icon_p">\n\t\t\t\t\t\t<p><i class="fas fa-calendar-alt"></i>'+t.Birthday+'</p>\n\t\t\t\t\t\t<p><i class="fas fa-map-marker-alt"></i>'+t.Address+"</p>\n\t\t\t\t\t</div>"}},{rows:[{view:"tabbar",value:e("Activities"),multiview:!0,optionWidth:150,options:[{value:e("Activities"),id:"Activities"},{value:e("Files"),id:"Files"}]},{id:"mymultiview",cells:[{id:"Activities",$subview:r.default},{id:"Files",$subview:a.default}]}]}]}},e.prototype.urlChange=function(){var t=this;o.a.waitData.then(function(){var e=t.getParam("id",!0);if(e&&o.a.exists(e)){var n=webix.copy(o.a.getItem(e)),i=n.StatusID;n.StatusID=i.Value;var r=webix.Date.dateToStr("%d-%m-%Y");n.Birthday=r(n.Birthday),t.$$("contactTitle").setValue(n.FirstName+" "+n.LastName),t.$$("contactCard").setValues(n)}})},e.prototype.removeContact=function(){var t=this,e=this.app.getService("locale")._;webix.confirm({title:e("Confirm_titile"),text:e("Confirm_text"),callback:function(e){if(e){t.app.callEvent("onContactDelete");var n=t.getParam("id",!0);o.a.remove(n)}}})},e}(i.c);e.default=s},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(1),r=n(4);var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale")._;return{view:"form",localId:"contactForm",autoheight:!1,elementsConfig:{labelWidth:120},elements:[{view:"label",localId:"formLabel",label:e("Edit contact"),align:"center"},{margin:50,cols:[{margin:10,rows:[{view:"text",label:e("First name"),name:"FirstName"},{view:"text",label:e("Last name"),name:"LastName"},{view:"datepicker",label:e("Joining date"),name:"StartDate"},{view:"combo",label:e("Status"),name:"StatusID",options:{body:{template:"#Value#",data:r.a}}},{view:"text",label:e("Job"),name:"Job"},{view:"text",label:e("Company"),name:"Company"},{view:"text",label:e("Website"),name:"Website"},{view:"textarea",label:e("Address"),name:"Address"}]},{margin:10,rows:[{view:"text",label:e("Email"),name:"Email"},{view:"text",label:e("Skype"),name:"Skype"},{view:"text",label:e("Phone"),name:"Phone"},{view:"datepicker",label:e("Birthday"),name:"Birthday"},{view:"text",name:"Photo",localId:"Photo",hidden:!0},{margin:25,cols:[{width:200,height:200,localId:"cPhoto",css:"contact_avatar",template:function(t){return'<img src="'+(t.Photo?t.Photo:"https://cs.unc.edu/~csturton/HWSecurityatUNC/images/person.png")+'" />'}},{margin:10,rows:[{},{view:"uploader",accept:"image/png, image/jpg, image/jpeg",value:e("Change photo"),autosend:!1,multiple:!1,on:{onBeforeFileAdd:function(e){var n=new FileReader;n.onload=function(e){t.$$("cPhoto").setValues({Photo:e.target.result})},e&&n.readAsDataURL(e.file)}}},{view:"button",value:e("Delete photo"),click:function(){webix.confirm({title:e("Confirm_titile"),callback:function(e){e&&t.$$("cPhoto").setValues({Photo:""})}})}}]}]}]}]},{},{margin:20,cols:[{},{view:"button",value:e("Cancel"),width:100,click:function(){webix.confirm({title:e("Confirm_titile"),callback:function(e){e&&t.show("contacts.details")}})}},{view:"button",localId:"saveBtn",value:e("Save"),type:"form",width:80,click:function(){t.saveForm()}}]}],rules:{FirstName:webix.rules.isNotEmpty,LastName:webix.rules.isNotEmpty,StatusID:webix.rules.isNotEmpty}}},e.prototype.init=function(){var t=this,e=this.app.getService("locale")._;webix.promise.all([o.a.waitData,r.a.waitData]).then(function(){var n=t.getParam("id",!0),i=t.getParam("new",!0);if(i&&(t.$$("formLabel").setValue(e("Add contact")),t.$$("saveBtn").setValue(e("Add"))),!i&&n&&o.a.exists(n)){var a=webix.copy(o.a.getItem(n)),s=a.StatusID,c=r.a.exists(s._id);a.StatusID=c?r.a.getItem(s._id).id:{},t.$$("cPhoto").setValues(a),t.$$("contactForm").setValues(a)}})},e.prototype.saveForm=function(){var t=this.$$("contactForm"),e=this.$$("cPhoto").getValues();this.$$("Photo").setValue(e.Photo);var n=t.getValues();if(t.validate()){this.getParam("id",!0);this.getParam("new",!0)?o.a.add(n):o.a.updateItem(n.id,n),this.show("/top/contacts.contacts?id="+n._id+"/contacts.details"),t.clearValidation(),t.clear()}},e}(i.c);e.default=a},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(6),r=n(3),a=n(4);var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this,e=this.app.getService("locale").getLang(),n=this.app.getService("locale")._;return{rows:[{rows:[{view:"segmented",multiview:!0,value:e,name:"lang",options:[{id:"en",value:"EN",width:40},{id:"ru",value:"RU",width:40}],click:function(){return t.toggleLanguage()}},{height:30}]},{cols:[{$subview:new o.default(this.app,"",r.a,n("Activity types"),["flag","comment","clock","phone","envelope"])},{$subview:new o.default(this.app,"",a.a,n("Statuses"),["sync","exclamation","clock","times"])}]}]}},e.prototype.toggleLanguage=function(){var t=this.app.getService("locale"),e=this.getRoot().queryView({name:"lang"}).getValue();t.setLang(e)},e}(i.c);e.default=s},function(t,e,n){"use strict";n.r(e);var i=n(0);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this.app.getService("locale")._;return{type:"clean",paddingX:5,css:"app_layout",cols:[{paddingX:5,paddingY:10,rows:[{css:"webix_shadow_medium",rows:[{type:"header",template:this.app.config.name,css:"webix_header app_header"},{view:"menu",id:"top:menu",css:"app_menu",width:180,layout:"y",select:!0,template:"<span class='webix_icon #icon#'></span> #value# ",data:[{value:t("Contacts"),id:"contacts.contacts",icon:"fas fa-user"},{value:t("Settings"),id:"settings.settings",icon:"fas fa-cog"},{value:t("Activities"),id:"activities.activities",icon:"fas fa-calendar-alt"}]}]}]},{type:"wide",paddingY:10,paddingX:5,rows:[{$subview:!0}]}]}},e.prototype.init=function(){this.use(i.d.Menu,"top:menu")},e}(i.c);e.default=o},function(t,e,n){"use strict";n.r(e),e.default={Contacts:"Contacts",Settings:"Settings",Activities:"Activities","Add activity":"Add activity",Delete:"Delete",Edit:"Edit","Upload file":"Upload file","Change photo":"Change photo","Delete photo":"Delete photo",Cancel:"Cancel",Save:"Save",Add:"Add",All:"All",Overdue:"Overdue",Completed:"Completed",Today:"Today",Tomorrow:"Tomorrow","This week":"This week","This month":"This month","Activity type":"Activity type","Activity types":"Activity types",Statuses:"Statuses","Due date":"Due date",Details:"Details",Contact:"Contact",Type:"Type",Name:"Name","Change Date":"Change Date",Size:"Size",Icon:"Icon","Type name":"Name",Confirm_titile:"Are you shure?",Confirm_text:"action cannot be undone",Files:"Files","First name":"First name","Last name":"Last name","Joining date":"Joining date",Status:"Status",Job:"Job",Company:"Company",Website:"Website",Address:"Address",Email:"Email",Skype:"Skype",Phone:"Phone",Birthday:"Birthday",Date:"Date",Time:"Time","Add contact":"Add contact","Edit contact":"Edit contact","Edit activity":"Edit activity"}},function(t,e,n){"use strict";n.r(e),e.default={Contacts:"",Settings:"",Activities:"","Add activity":". .",Delete:"",Edit:".","Upload file":" ","Change photo":" ","Delete photo":" ",Cancel:"",Save:"",Add:"",All:"",Overdue:"",Completed:"",Today:"",Tomorrow:"","This week":"  ","This month":"  ","Activity type":" ","Activity types":" ",Statuses:"","Due date":"",Details:"",Contact:"",Type:"",Name:"","Change Date":" ",Size:"",Icon:"","Type name":"","Remove this?":"?",Confirm_text:" ",Files:"","First name":"","Last name":"","Joining date":" ",Status:"",Job:"",Company:"",Website:"",Address:"",Email:"",Skype:"",Phone:"",Birthday:" ",Date:"",Time:"","Add contact":" ","Edit contact":" ","Edit activity":" "}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e,n){for(var i in t)o(t,i)&&e.call(n||t,t[i],i,t)}function a(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}var s=String.prototype.replace,c=String.prototype.split,u="||||",l=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},p={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:l,chinese:function(){return 0},croatian:l,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:l,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},f={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function h(t){var e,n=(e={},r(f,function(t,n){r(t,function(t){e[t]=n})}),e);return n[t]||n[c.call(t,/-/,1)[0]]||n.en}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var v=/\$/g,y="$$",m=/%\{(.*?)\}/g;function w(t,e,n,i){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var r=t,a=i||m,l="number"==typeof e?{smart_count:e}:e;if(null!=l.smart_count&&r){var f=c.call(r,u);r=(f[function(t,e){return p[h(t)](e)}(n||"en",l.smart_count)]||f[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return r=s.call(r,a,function(t,e){return o(l,e)&&null!=l[e]?s.call(l[e],v,y):t})}function g(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?w:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||a,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===u||n===u)throw new RangeError('"'+u+'" token is reserved for pluralization');return new RegExp(d(e)+"(.*?)"+d(n),"g")}(e.interpolation)}g.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},g.prototype.extend=function(t,e){r(t,function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":i(t))?this.extend(t,o):this.phrases[o]=t},this)},g.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:r(t,function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":i(t))?this.unset(t,o):delete this.phrases[o]},this)},g.prototype.clear=function(){this.phrases={}},g.prototype.replace=function(t){this.clear(),this.extend(t)},g.prototype.t=function(t,e){var n,i,o=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){i=(0,this.onMissingKey)(t,o,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),i=t;return"string"==typeof n&&(i=w(n,o,this.currentLocale,this.tokenRegex)),i},g.prototype.has=function(t){return o(this.phrases,t)},g.transformPhrase=function(t,e,n){return w(t,e,n)},t.exports=g},function(t,e,n){"use strict";n.r(e);n(20);var i=n(0),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r={id:"webix-jet-app",version:"1.1.0",router:i.a,debug:!1,start:"/top/contacts.contacts"};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o({},r,n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.b);e.default=r,webix.ready(function(){var t=new r;t.use(i.d.Locale),t.render(),t.attachEvent("app:error:resolve",function(t,e){window.console.error(e)})})},function(t,e,n){},function(t,e){var n=webix,i=webix.version.split(".");10*i[0]+1*i[1]<53&&(n.ui.freeze=function(t){var e=t();return e&&e.then?e.then(function(t){return n.ui.$freeze=!1,n.ui.resize(),t}):(n.ui.$freeze=!1,n.ui.resize()),e});var o=n.ui.baselayout.prototype.addView,r=n.ui.baselayout.prototype.removeView,a={addView:function(t,e){if(this.$scope&&this.$scope.webixJet){var n=this.$scope,i={};t=n.app.copyConfig(t,{},i),o.apply(this,[t,e]);var r=function(t){n._renderFrame(t,i[t],n.getUrl()).then(function(){n._subs[t]=i[t]})};for(var a in i)r(a);return t.id}return o.apply(this,arguments)},removeView:function(){if(r.apply(this,arguments),this.$scope&&this.$scope.webixJet){var t=this.$scope._subs;for(var e in t)webix.$$(t[e].id)||delete t[e]}}};n.extend(n.ui.layout.prototype,a,!0),n.extend(n.ui.baselayout.prototype,a,!0),webix.protoUI({name:"jetapp",$init:function(t){this.$app=new this.app(t);var e=webix.uid().toString();t.body={id:e},this.$ready.push(function(){this.$app.render(webix.$$(e))})}},webix.ui.proxy)},function(t,e,n){var i={"./activities/activities":10,"./activities/activities.js":10,"./activities/form":5,"./activities/form.js":5,"./contacts/activities":7,"./contacts/activities.js":7,"./contacts/contacts":11,"./contacts/contacts.js":11,"./contacts/details":12,"./contacts/details.js":12,"./contacts/files":8,"./contacts/files.js":8,"./contacts/form":13,"./contacts/form.js":13,"./settings/dtable":6,"./settings/dtable.js":6,"./settings/settings":14,"./settings/settings.js":14,"./top":15,"./top.js":15};function o(t){var e=r(t);return n(e)}function r(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=22},function(t,e,n){var i={"./en":16,"./en.js":16,"./ru":17,"./ru.js":17};function o(t){var e=r(t);return n(e)}function r(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=23}]);